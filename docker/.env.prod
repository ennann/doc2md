# ========================================
# Doc2MD 生产环境配置
# ========================================
# 使用方式：
# 1. 复制此文件到服务器
# 2. 修改所有标记为 "CHANGEME" 的值
# 3. 运行：docker-compose --env-file docker/.env.production up -d

# ========================================
# Redis 配置
# ========================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=CHANGEME_your_secure_redis_password_here

# ========================================
# Backend API 配置
# ========================================
# 允许的前端域名（逗号分隔，不要有空格）
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# 任务过期时间（秒）
TASK_TTL=300

# 日志级别：DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=WARNING

# API 密钥（如果启用了 API 认证）
# API_KEY=CHANGEME_your_api_key_here

# ========================================
# Worker 配置
# ========================================
# Worker 实例数量
WORKER_REPLICAS=4

# Worker 并发数
WORKER_CONCURRENCY=2

# ========================================
# Nginx 配置
# ========================================
# 你的域名
DOMAIN=api.yourdomain.com

# SSL 证书邮箱（用于 Let's Encrypt）
SSL_EMAIL=your-email@example.com

# ========================================
# 资源限制配置
# ========================================
# Backend 资源限制
BACKEND_CPU_LIMIT=1.0
BACKEND_MEMORY_LIMIT=512M
BACKEND_REPLICAS=2

# Worker 资源限制
WORKER_CPU_LIMIT=1.0
WORKER_MEMORY_LIMIT=1G

# Redis 资源限制
REDIS_CPU_LIMIT=0.5
REDIS_MEMORY_LIMIT=256M

# ========================================
# 监控和备份配置（可选）
# ========================================
# Redis 数据持久化路径（宿主机路径）
REDIS_DATA_PATH=/var/lib/doc2md/redis

# 日志路径（宿主机路径）
LOG_PATH=/var/log/doc2md

# 备份路径（宿主机路径）
BACKUP_PATH=/var/backups/doc2md
